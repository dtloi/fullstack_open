{"version":3,"sources":["services/notes.js","Phonebook.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","filterName","filterChange","value","onChange","AddNew","addNumber","newName","nameChange","newNumber","numberChange","onSubmit","type","Person","name","number","deleteConfirm","onClick","NotificationS","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","NotificationF","App","useState","Set","exists","setExists","persons","setPersons","i","add","setNewNumber","setNewName","setFilter","successMessage","setSuccess","failureMessage","setFailure","numbersToShow","filter","p","toLowerCase","includes","useEffect","noteService","console","log","replaceConfirm","newPerson","window","confirm","replaceNumber","n","concat","deleteNumber","catch","error","setTimeout","event","target","preventDefault","exist","has","personChange","map","person","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Phonebook","document","getElementById"],"mappings":"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","file":"static/js/main.9ce47caa.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll,\n  create, \n  update,\n  del\n}","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport noteService from './services/notes'\n\n\nconst Filter = ({filterName, filterChange}) => {\n  return (\n    <form>\n      <div> filter shown with: <input value={filterName} onChange={filterChange}/> </div>\n    </form>\n  )\n}\n\nconst AddNew = ({addNumber, newName, nameChange, newNumber, numberChange}) => {\n  return (\n    <form onSubmit={addNumber}>\n        <div> name: <input value={newName} onChange={nameChange}/> </div>\n        <div>number: <input value={newNumber} onChange={numberChange}/></div>\n        <div>\n          <button \n            type=\"submit\"\n          >add</button>\n        </div>\n      </form>\n  )\n}\n\nconst Person = ({name, number, deleteConfirm}) => {\n  return (\n    <p>\n      {name} {number}\n      <button onClick = {deleteConfirm}>delete</button>\n    </p>\n  )\n}\n\nconst NotificationS = ({message}) => {\n  const sucessStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  if (message === ''){\n    return null\n  }else{\n    return(\n      <div style = {sucessStyle}>\n        {message}\n      </div>\n    )\n  }\n}\nconst NotificationF = ({message}) => {\n  const sucessStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  if (message === ''){\n    return null\n  }else{\n    return(\n      <div style = {sucessStyle}>\n        {message}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ exists, setExists ] = useState(new Set())\n  const [ persons, setPersons ] = useState([]) \n  for (let i in persons){\n    exists.add(persons[i].name)\n    //console.log(exists)\n  }\n\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ filterName, setFilter ] = useState('')\n  const [ successMessage, setSuccess ] = useState('')\n  const [ failureMessage, setFailure ] = useState('')\n\n  const numbersToShow = persons.filter(p => p.name.toLowerCase().includes(filterName.toLowerCase()) === true)\n\n  const getData = () => {\n    //console.log('effect')\n    noteService\n      .getAll()\n      .then(response => {\n        console.log(response)\n        console.log('promise fulfilled')\n        setPersons(response)\n      })\n  }\n\n  useEffect(getData, [])\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const newPerson = {\n        name: newName,\n        number: newNumber\n    }\n    let exist = exists.has(newName);\n    console.log(exist)\n    if (exist === true){\n      const personChange = persons.filter(p => p.name === newName)\n      replaceConfirm(personChange[0].id, newPerson)\n    }else{\n      noteService\n        .create(newPerson)\n        .then(response =>{\n          console.log(response)\n          setPersons(persons.concat(response))\n          setExists(exists.add(newName))\n          setSuccess(\"Successfully added \"+newName+\" to the phonebook\")\n          setTimeout(() => {\n            setSuccess(null)\n          }, 5000)\n          console.log(exists)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setFailure(error.response.data.error)\n          setTimeout(() => {\n            setFailure(null)\n          }, 5000)\n          console.log(error.response.data)\n\n        })\n    }\n  }\n\n\n  const replaceConfirm = (id, newPerson) => {\n    var result = window.confirm(\"Do you want to replace \"+newPerson.name+\"?\")\n    if (result){\n      replaceNumber(id, newPerson)\n    }\n  }\n\n  const deleteConfirm = (id) => {\n    var result = window.confirm(\"Do you want to delete \"+id+\"?\")\n    if (result){\n      deleteNumber(id)\n    }\n  }\n  const replaceNumber = (id, newPerson) => {\n    noteService\n      .update(id, newPerson)\n      .then(response => {\n        //console.log(response)\n        setPersons(persons.filter(n => n.id != id).concat(response))\n        setNewName(\"\")\n        setNewNumber(\"\")\n      })\n    console.log(id)\n  }\n  const deleteNumber = (id) => {\n    noteService\n      .del(id)\n      .then(response => {\n        //console.log(response)\n        console.log(id)\n        setPersons(persons.filter(n => n.id != id))\n        console.log(persons)\n      })\n      .catch(error => {\n        setSuccess(error.message)\n        setTimeout(() => {\n          setSuccess(null)\n        }, 5000)\n      }\n      )\n    console.log(id)\n  }\n  const nameChange = (event) => {\n      setNewName(event.target.value)\n  }\n  const numberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const filterChange = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NotificationS message = {successMessage}/>\n      <NotificationF message = {failureMessage}/>\n      <Filter filterName={filterName} filterChange={filterChange}/>\n      <h2>add a new</h2>\n      <AddNew addNumber={addNumber} newName={newName} nameChange={nameChange} newNumber={newNumber} numberChange={numberChange}/>\n      <h2>Numbers</h2>\n      {numbersToShow.map((person) => <Person key={person.name} name={person.name} number={person.number} deleteConfirm={() => deleteConfirm(person.id)}/>)}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './App';\nimport Phonebook from './Phonebook'\nimport reportWebVitals from './reportWebVitals';\n//import axios from 'axios'\n//import Axiso from './Axiso'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Phonebook />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n\nreportWebVitals();\n"],"sourceRoot":""}