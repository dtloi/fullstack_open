(this.webpackJsonpnote_2=this.webpackJsonpnote_2||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var o=t(2),c=t.n(o),r=t(14),u=t.n(r),a=t(3),i=t(4),l=t.n(i),s="api/persons",d=function(){return l.a.get(s).then((function(e){return e.data}))},f=function(e){return l.a.post(s,e).then((function(e){return e.data}))},b=function(e,n){return l.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},j=function(e){return l.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},h=t(0),m=function(e){var n=e.filterName,t=e.filterChange;return Object(h.jsx)("form",{children:Object(h.jsxs)("div",{children:[" filter shown with: ",Object(h.jsx)("input",{value:n,onChange:t})," "]})})},g=function(e){var n=e.addNumber,t=e.newName,o=e.nameChange,c=e.newNumber,r=e.numberChange;return Object(h.jsxs)("form",{onSubmit:n,children:[Object(h.jsxs)("div",{children:[" name: ",Object(h.jsx)("input",{value:t,onChange:o})," "]}),Object(h.jsxs)("div",{children:["number: ",Object(h.jsx)("input",{value:c,onChange:r})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})},O=function(e){var n=e.name,t=e.number,o=e.deleteConfirm;return Object(h.jsxs)("p",{children:[n," ",t,Object(h.jsx)("button",{onClick:o,children:"delete"})]})},v=function(e){var n=e.message;return""===n?null:Object(h.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:n})},x=function(){var e=Object(o.useState)(new Set),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)([]),u=Object(a.a)(r,2),i=u[0],l=u[1];for(var s in i)t.add(i[s].name);var x=Object(o.useState)(""),p=Object(a.a)(x,2),w=p[0],C=p[1],S=Object(o.useState)(""),N=Object(a.a)(S,2),y=N[0],k=N[1],D=Object(o.useState)(""),F=Object(a.a)(D,2),L=F[0],T=F[1],B=Object(o.useState)(""),P=Object(a.a)(B,2),E=P[0],I=P[1],J=Object(o.useState)(""),_=Object(a.a)(J,2),z=(_[0],_[1],i.filter((function(e){return!0===e.name.toLowerCase().includes(L.toLowerCase())})));Object(o.useEffect)((function(){console.log("effect"),d().then((function(e){console.log(e),console.log("promise fulfilled"),l(e)}))}),[]);var M=function(e,n){console.log(e),console.log(n),window.confirm("Do you want to replace "+e+"?")&&R(e,n)},R=function(e,n){b(e,n).then((function(n){console.log(n),l(i.filter((function(n){return n.id!=e}))),console.log(i)})),console.log(e)},q=function(e){j(e).then((function(n){console.log(n),l(i.filter((function(n){return n.id!=e}))),console.log(i)})).catch((function(e){I(e.message),setTimeout((function(){I(null)}),5e3)})),console.log(e)};return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(v,{message:E}),Object(h.jsx)(m,{filterName:L,filterChange:function(e){T(e.target.value)}}),Object(h.jsx)("h2",{children:"add a new"}),Object(h.jsx)(g,{addNumber:function(e){e.preventDefault();var n={name:y,number:w},o=t.has(y);if(console.log(o),!0===o){var r=i.filter((function(e){return e.name===y}));M(r[0].id,n.number)}else f(n).then((function(e){l(i.concat(e)),c(t.add(y)),I("Successfully added "+y+" to the phonebook"),setTimeout((function(){I(null)}),5e3),console.log(t),k(""),C("")}))},newName:y,nameChange:function(e){k(e.target.value)},newNumber:w,numberChange:function(e){C(e.target.value)}}),Object(h.jsx)("h2",{children:"Numbers"}),z.map((function(e){return Object(h.jsx)(O,{name:e.name,number:e.number,deleteConfirm:function(){return n=e.id,void(window.confirm("Do you want to delete "+n+"?")&&q(n));var n}},e.name)}))]})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),o(e),c(e),r(e),u(e)}))};u.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),p()}},[[38,1,2]]]);
//# sourceMappingURL=main.ae81a934.chunk.js.map