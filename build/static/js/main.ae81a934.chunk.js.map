{"version":3,"sources":["services/notes.js","Phonebook.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","filterName","filterChange","value","onChange","AddNew","addNumber","newName","nameChange","newNumber","numberChange","onSubmit","type","Person","name","number","deleteConfirm","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","Set","exists","setExists","persons","setPersons","i","add","setNewNumber","setNewName","setFilter","successMessage","setSuccess","numbersToShow","filter","p","toLowerCase","includes","useEffect","console","log","noteService","replaceConfirm","window","confirm","replaceNumber","n","deleteNumber","catch","error","setTimeout","event","target","preventDefault","newPerson","exist","has","personChange","reponse","concat","map","person","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Phonebook","document","getElementById"],"mappings":"oKACMA,EAAU,cAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALH,SAACG,GAEX,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCfrCM,EAAS,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aAC3B,OACE,+BACE,uDAAyB,uBAAOC,MAAOF,EAAYG,SAAUF,IAA7D,UAKAG,EAAS,SAAC,GAA+D,IAA9DC,EAA6D,EAA7DA,UAAWC,EAAkD,EAAlDA,QAASC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,aAC1D,OACE,uBAAMC,SAAUL,EAAhB,UACI,0CAAY,uBAAOH,MAAOI,EAASH,SAAUI,IAA7C,OACA,2CAAa,uBAAOL,MAAOM,EAAWL,SAAUM,OAChD,8BACE,wBACEE,KAAK,SADP,uBAQJC,EAAS,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,cAC7B,OACE,8BACGF,EADH,IACUC,EACR,wBAAQE,QAAWD,EAAnB,wBAKAE,EAAe,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAUrB,MAAgB,KAAZA,EACK,KAGL,qBAAKC,MAbW,CAClBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAMZ,SACGR,KAiIMS,EA3HH,WAAO,IAAD,EACcC,mBAAS,IAAIC,KAD3B,mBACRC,EADQ,KACAC,EADA,OAEgBH,mBAAS,IAFzB,mBAERI,EAFQ,KAECC,EAFD,KAGhB,IAAK,IAAIC,KAAKF,EACZF,EAAOK,IAAIH,EAAQE,GAAGrB,MAJR,MAQoBe,mBAAS,IAR7B,mBAQRpB,EARQ,KAQG4B,EARH,OASgBR,mBAAS,IATzB,mBASRtB,EATQ,KASC+B,EATD,OAUkBT,mBAAS,IAV3B,mBAUR5B,EAVQ,KAUIsC,EAVJ,OAWuBV,mBAAS,IAXhC,mBAWRW,EAXQ,KAWQC,EAXR,OAYuBZ,mBAAS,IAZhC,mBAcVa,GAdU,UAcMT,EAAQU,QAAO,SAAAC,GAAC,OAAgE,IAA5DA,EAAE9B,KAAK+B,cAAcC,SAAS7C,EAAW4C,mBAanFE,qBAXgB,WACdC,QAAQC,IAAI,UACZC,IAEG1D,MAAK,SAAAC,GACJuD,QAAQC,IAAIxD,GACZuD,QAAQC,IAAI,qBACZf,EAAWzC,QAIE,IAEnB,IA6BM0D,EAAiB,SAACtD,EAAIkB,GAC1BiC,QAAQC,IAAIpD,GACZmD,QAAQC,IAAIlC,GACCqC,OAAOC,QAAQ,0BAA0BxD,EAAG,MAEvDyD,EAAczD,EAAIkB,IAUhBuC,EAAgB,SAACzD,EAAIkB,GACzBmC,EACUrD,EAAIkB,GACXvB,MAAK,SAAAC,GACJuD,QAAQC,IAAIxD,GACZyC,EAAWD,EAAQU,QAAO,SAAAY,GAAC,OAAIA,EAAE1D,IAAMA,MACvCmD,QAAQC,IAAIhB,MAEhBe,QAAQC,IAAIpD,IAER2D,EAAe,SAAC3D,GACpBqD,EACOrD,GACJL,MAAK,SAAAC,GACJuD,QAAQC,IAAIxD,GACZyC,EAAWD,EAAQU,QAAO,SAAAY,GAAC,OAAIA,EAAE1D,IAAMA,MACvCmD,QAAQC,IAAIhB,MAEbwB,OAAM,SAAAC,GACLjB,EAAWiB,EAAMvC,SACjBwC,YAAW,WACTlB,EAAW,QACV,QAGPO,QAAQC,IAAIpD,IAYd,OACE,gCACE,2CACA,cAAC,EAAD,CAAcsB,QAAWqB,IACzB,cAAC,EAAD,CAAQvC,WAAYA,EAAYC,aARf,SAAC0D,GACpBrB,EAAUqB,EAAMC,OAAO1D,UAQrB,2CACA,cAAC,EAAD,CAAQG,UAvFM,SAACsD,GACjBA,EAAME,iBACN,IAAMC,EAAY,CACdjD,KAAMP,EACNQ,OAAQN,GAERuD,EAAQjC,EAAOkC,IAAI1D,GAEvB,GADAyC,QAAQC,IAAIe,IACE,IAAVA,EAAe,CACjB,IAAME,EAAejC,EAAQU,QAAO,SAAAC,GAAC,OAAIA,EAAE9B,OAASP,KACpD4C,EAAee,EAAa,GAAGrE,GAAIkE,EAAUhD,aAE7CmC,EACUa,GACPvE,MAAK,SAAA2E,GACJjC,EAAWD,EAAQmC,OAAOD,IAC1BnC,EAAUD,EAAOK,IAAI7B,IACrBkC,EAAW,sBAAsBlC,EAAQ,qBACzCoD,YAAW,WACTlB,EAAW,QACV,KACHO,QAAQC,IAAIlB,GACZO,EAAW,IACXD,EAAa,QAgEa9B,QAASA,EAASC,WAhBjC,SAACoD,GAChBtB,EAAWsB,EAAMC,OAAO1D,QAegDM,UAAWA,EAAWC,aAb7E,SAACkD,GACpBvB,EAAauB,EAAMC,OAAO1D,UAaxB,yCACCuC,EAAc2B,KAAI,SAACC,GAAD,OAAY,cAAC,EAAD,CAA0BxD,KAAMwD,EAAOxD,KAAMC,OAAQuD,EAAOvD,OAAQC,cAAe,kBAnD/FnB,EAmDmHyE,EAAOzE,QAlDlIuD,OAAOC,QAAQ,yBAAyBxD,EAAG,MAEtD2D,EAAa3D,IAHK,IAACA,IAmDyByE,EAAOxD,aCnK1CyD,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjF,MAAK,YAAkD,IAA/CkF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAD,MAEFC,SAASC,eAAe,SAQ1Bb,M","file":"static/js/main.ae81a934.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll,\n  create, \n  update,\n  del\n}","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport noteService from './services/notes'\n\n\nconst Filter = ({filterName, filterChange}) => {\n  return (\n    <form>\n      <div> filter shown with: <input value={filterName} onChange={filterChange}/> </div>\n    </form>\n  )\n}\n\nconst AddNew = ({addNumber, newName, nameChange, newNumber, numberChange}) => {\n  return (\n    <form onSubmit={addNumber}>\n        <div> name: <input value={newName} onChange={nameChange}/> </div>\n        <div>number: <input value={newNumber} onChange={numberChange}/></div>\n        <div>\n          <button \n            type=\"submit\"\n          >add</button>\n        </div>\n      </form>\n  )\n}\n\nconst Person = ({name, number, deleteConfirm}) => {\n  return (\n    <p>\n      {name} {number}\n      <button onClick = {deleteConfirm}>delete</button>\n    </p>\n  )\n}\n\nconst Notification = ({message}) => {\n  const sucessStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  if (message === ''){\n    return null\n  }else{\n    return(\n      <div style = {sucessStyle}>\n        {message}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ exists, setExists ] = useState(new Set())\n  const [ persons, setPersons ] = useState([]) \n  for (let i in persons){\n    exists.add(persons[i].name)\n    //console.log(exists)\n  }\n\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ filterName, setFilter ] = useState('')\n  const [ successMessage, setSuccess ] = useState('')\n  const [ failureMessage, setFailure ] = useState('')\n\n  const numbersToShow = persons.filter(p => p.name.toLowerCase().includes(filterName.toLowerCase()) === true)\n\n  const getData = () => {\n    console.log('effect')\n    noteService\n      .getAll()\n      .then(response => {\n        console.log(response)\n        console.log('promise fulfilled')\n        setPersons(response)\n      })\n  }\n\n  useEffect(getData, [])\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const newPerson = {\n        name: newName,\n        number: newNumber\n    }\n    let exist = exists.has(newName);\n    console.log(exist)\n    if (exist === true){\n      const personChange = persons.filter(p => p.name === newName)\n      replaceConfirm(personChange[0].id, newPerson.number)\n    }else{\n      noteService\n        .create(newPerson)\n        .then(reponse =>{\n          setPersons(persons.concat(reponse))\n          setExists(exists.add(newName))\n          setSuccess(\"Successfully added \"+newName+\" to the phonebook\")\n          setTimeout(() => {\n            setSuccess(null)\n          }, 5000)\n          console.log(exists)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n\n  const replaceConfirm = (id, number) => {\n    console.log(id)\n    console.log(number)\n    var result = window.confirm(\"Do you want to replace \"+id+\"?\")\n    if (result){\n      replaceNumber(id, number)\n    }\n  }\n\n  const deleteConfirm = (id) => {\n    var result = window.confirm(\"Do you want to delete \"+id+\"?\")\n    if (result){\n      deleteNumber(id)\n    }\n  }\n  const replaceNumber = (id, number) => {\n    noteService\n      .update(id, number)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.filter(n => n.id != id))\n        console.log(persons)\n      })\n    console.log(id)\n  }\n  const deleteNumber = (id) => {\n    noteService\n      .del(id)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.filter(n => n.id != id))\n        console.log(persons)\n      })\n      .catch(error => {\n        setSuccess(error.message)\n        setTimeout(() => {\n          setSuccess(null)\n        }, 5000)\n      }\n      )\n    console.log(id)\n  }\n  const nameChange = (event) => {\n      setNewName(event.target.value)\n  }\n  const numberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const filterChange = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {successMessage}/>\n      <Filter filterName={filterName} filterChange={filterChange}/>\n      <h2>add a new</h2>\n      <AddNew addNumber={addNumber} newName={newName} nameChange={nameChange} newNumber={newNumber} numberChange={numberChange}/>\n      <h2>Numbers</h2>\n      {numbersToShow.map((person) => <Person key={person.name} name={person.name} number={person.number} deleteConfirm={() => deleteConfirm(person.id)}/>)}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './App';\nimport Phonebook from './Phonebook'\nimport reportWebVitals from './reportWebVitals';\n//import axios from 'axios'\n//import Axiso from './Axiso'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Phonebook />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n\nreportWebVitals();\n"],"sourceRoot":""}