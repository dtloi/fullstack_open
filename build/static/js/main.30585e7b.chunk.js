(this.webpackJsonpnote_2=this.webpackJsonpnote_2||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var o=t(2),c=t.n(o),r=t(14),u=t.n(r),a=t(3),i=t(4),l=t.n(i),s="http://localhost:3001/api/persons",d={getAll:function(){return l.a.get(s).then((function(e){return e.data}))},create:function(e){return l.a.post(s,e).then((function(e){return e.data}))},update:function(e,n){return l.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},del:function(e){return l.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))}},b=t(0),f=function(e){var n=e.filterName,t=e.filterChange;return Object(b.jsx)("form",{children:Object(b.jsxs)("div",{children:[" filter shown with: ",Object(b.jsx)("input",{value:n,onChange:t})," "]})})},j=function(e){var n=e.addNumber,t=e.newName,o=e.nameChange,c=e.newNumber,r=e.numberChange;return Object(b.jsxs)("form",{onSubmit:n,children:[Object(b.jsxs)("div",{children:[" name: ",Object(b.jsx)("input",{value:t,onChange:o})," "]}),Object(b.jsxs)("div",{children:["number: ",Object(b.jsx)("input",{value:c,onChange:r})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"add"})})]})},h=function(e){var n=e.name,t=e.number,o=e.deleteConfirm;return Object(b.jsxs)("p",{children:[n," ",t,Object(b.jsx)("button",{onClick:o,children:"delete"})]})},m=function(e){var n=e.message;return""===n?null:Object(b.jsx)("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:n})},g=function(){var e=Object(o.useState)(new Set),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)([]),u=Object(a.a)(r,2),i=u[0],l=u[1];for(var s in i)t.add(i[s].name),console.log(t);var g=Object(o.useState)(""),O=Object(a.a)(g,2),v=O[0],p=O[1],x=Object(o.useState)(""),w=Object(a.a)(x,2),C=w[0],S=w[1],N=Object(o.useState)(""),y=Object(a.a)(N,2),k=y[0],D=y[1],F=Object(o.useState)(""),L=Object(a.a)(F,2),T=L[0],B=L[1],P=Object(o.useState)(""),A=Object(a.a)(P,2),E=(A[0],A[1],i.filter((function(e){return!0===e.name.toLowerCase().includes(k.toLowerCase())})));Object(o.useEffect)((function(){console.log("effect"),d.getAll().then((function(e){console.log(e),console.log("promise fulfilled"),l(e)}))}),[]);var I=function(e){var n=e.id;e.number;window.confirm("Do you want to replace "+n+"?")&&J(n)},J=function(e){var n=e.id,t=e.number;d.put(n,t).then((function(e){console.log(e),l(i.filter((function(e){return e.id!=n}))),console.log(i)})),console.log(n)},_=function(e){d.del(e).then((function(n){console.log(n),l(i.filter((function(n){return n.id!=e}))),console.log(i)})).catch((function(e){B(e.message),setTimeout((function(){B(null)}),5e3)})),console.log(e)};return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),Object(b.jsx)(m,{message:T}),Object(b.jsx)(f,{filterName:k,filterChange:function(e){D(e.target.value)}}),Object(b.jsx)("h2",{children:"add a new"}),Object(b.jsx)(j,{addNumber:function(e){e.preventDefault();var n={name:C,number:v},o=t.has(C);console.log(o),!0===o?I(i.length+1,n.number):d.create(n).then((function(e){l(i.concat(e)),c(t.add(C)),B("Successfully added "+C+" to the phonebook"),setTimeout((function(){B(null)}),5e3),console.log(t),S(""),p("")}))},newName:C,nameChange:function(e){S(e.target.value)},newNumber:v,numberChange:function(e){p(e.target.value)}}),Object(b.jsx)("h2",{children:"Numbers"}),E.map((function(e){return Object(b.jsx)(h,{name:e.name,number:e.number,deleteConfirm:function(){return n=e.id,void(window.confirm("Do you want to delete "+n+"?")&&_(n));var n}},e.name)}))]})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),o(e),c(e),r(e),u(e)}))};u.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),O()}},[[38,1,2]]]);
//# sourceMappingURL=main.30585e7b.chunk.js.map