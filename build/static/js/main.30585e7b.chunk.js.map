{"version":3,"sources":["services/notes.js","Phonebook.js","reportWebVitals.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","del","delete","Filter","filterName","filterChange","value","onChange","AddNew","addNumber","newName","nameChange","newNumber","numberChange","onSubmit","type","Person","name","number","deleteConfirm","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","Set","exists","setExists","persons","setPersons","i","add","console","log","setNewNumber","setNewName","setFilter","successMessage","setSuccess","numbersToShow","filter","p","toLowerCase","includes","useEffect","noteService","replaceConfirm","window","confirm","replaceNumber","n","deleteNumber","catch","error","setTimeout","event","target","preventDefault","newPerson","exist","has","length","reponse","concat","map","person","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Phonebook","document","getElementById"],"mappings":"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","file":"static/js/main.30585e7b.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll,\n  create, \n  update,\n  del\n}","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport noteService from './services/notes'\n\n\nconst Filter = ({filterName, filterChange}) => {\n  return (\n    <form>\n      <div> filter shown with: <input value={filterName} onChange={filterChange}/> </div>\n    </form>\n  )\n}\n\nconst AddNew = ({addNumber, newName, nameChange, newNumber, numberChange}) => {\n  return (\n    <form onSubmit={addNumber}>\n        <div> name: <input value={newName} onChange={nameChange}/> </div>\n        <div>number: <input value={newNumber} onChange={numberChange}/></div>\n        <div>\n          <button \n            type=\"submit\"\n          >add</button>\n        </div>\n      </form>\n  )\n}\n\nconst Person = ({name, number, deleteConfirm}) => {\n  return (\n    <p>\n      {name} {number}\n      <button onClick = {deleteConfirm}>delete</button>\n    </p>\n  )\n}\n\nconst Notification = ({message}) => {\n  const sucessStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  if (message === ''){\n    return null\n  }else{\n    return(\n      <div style = {sucessStyle}>\n        {message}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ exists, setExists ] = useState(new Set())\n  const [ persons, setPersons ] = useState([]) \n  for (let i in persons){\n    exists.add(persons[i].name)\n    console.log(exists)\n  }\n\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ filterName, setFilter ] = useState('')\n  const [ successMessage, setSuccess ] = useState('')\n  const [ failureMessage, setFailure ] = useState('')\n\n  const numbersToShow = persons.filter(p => p.name.toLowerCase().includes(filterName.toLowerCase()) === true)\n\n  const getData = () => {\n    console.log('effect')\n    noteService\n      .getAll()\n      .then(response => {\n        console.log(response)\n        console.log('promise fulfilled')\n        setPersons(response)\n      })\n  }\n\n  useEffect(getData, [])\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const newPerson = {\n        name: newName,\n        number: newNumber\n    }\n    let exist = exists.has(newName);\n    console.log(exist)\n    if (exist === true){\n      replaceConfirm(persons.length+1, newPerson.number)\n    }else{\n      noteService\n        .create(newPerson)\n        .then(reponse =>{\n          setPersons(persons.concat(reponse))\n          setExists(exists.add(newName))\n          setSuccess(\"Successfully added \"+newName+\" to the phonebook\")\n          setTimeout(() => {\n            setSuccess(null)\n          }, 5000)\n          console.log(exists)\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const replaceConfirm = ({id,number}) => {\n    var result = window.confirm(\"Do you want to replace \"+id+\"?\")\n    if (result){\n      replaceNumber(id)\n    }\n  }\n\n  const deleteConfirm = (id) => {\n    var result = window.confirm(\"Do you want to delete \"+id+\"?\")\n    if (result){\n      deleteNumber(id)\n    }\n  }\n  const replaceNumber = ({id, number}) => {\n    noteService\n      .put(id, number)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.filter(n => n.id != id))\n        console.log(persons)\n      })\n    console.log(id)\n  }\n  const deleteNumber = (id) => {\n    noteService\n      .del(id)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.filter(n => n.id != id))\n        console.log(persons)\n      })\n      .catch(error => {\n        setSuccess(error.message)\n        setTimeout(() => {\n          setSuccess(null)\n        }, 5000)\n      }\n      )\n    console.log(id)\n  }\n  const nameChange = (event) => {\n      setNewName(event.target.value)\n  }\n  const numberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const filterChange = (event) => {\n    setFilter(event.target.value)\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {successMessage}/>\n      <Filter filterName={filterName} filterChange={filterChange}/>\n      <h2>add a new</h2>\n      <AddNew addNumber={addNumber} newName={newName} nameChange={nameChange} newNumber={newNumber} numberChange={numberChange}/>\n      <h2>Numbers</h2>\n      {numbersToShow.map((person) => <Person key={person.name} name={person.name} number={person.number} deleteConfirm={() => deleteConfirm(person.id)}/>)}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './App';\nimport Phonebook from './Phonebook'\nimport reportWebVitals from './reportWebVitals';\n//import axios from 'axios'\n//import Axiso from './Axiso'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Phonebook />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n\nreportWebVitals();\n"],"sourceRoot":""}